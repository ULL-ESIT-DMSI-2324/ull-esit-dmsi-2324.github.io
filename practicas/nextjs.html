<!doctype html>
<html lang=" en-US ">

<head>
    <meta charset="utf-8">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?">
    <meta http-equiv="X-UA-Compatible" content="chrome=1"> <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Desarrollo y Mantenimiento de Sistemas Informáticos | 4º. 1er cuatrimestre. Itinerario de Sistemas de la Información. Grado en Ingeniería Informática. ULL</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Desarrollo y Mantenimiento de Sistemas Informáticos" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="4º. 1er cuatrimestre. Itinerario de Sistemas de la Información. Grado en Ingeniería Informática. ULL" />
<meta property="og:description" content="4º. 1er cuatrimestre. Itinerario de Sistemas de la Información. Grado en Ingeniería Informática. ULL" />
<meta property="og:site_name" content="Desarrollo y Mantenimiento de Sistemas Informáticos" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Desarrollo y Mantenimiento de Sistemas Informáticos" />
<script type="application/ld+json">
{"url":"/practicas/nextjs","@type":"WebPage","description":"4º. 1er cuatrimestre. Itinerario de Sistemas de la Información. Grado en Ingeniería Informática. ULL","headline":"Desarrollo y Mantenimiento de Sistemas Informáticos","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=2a5601320d6e2c7f06a9df80deaad1ad50ed76d1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="/assets/js/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="/assets/css/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

</head>

<body>
    <div id="header">
        <nav>
        <ul>
            <li><a href="/search">Search</a></li>
            <li><a href="https://ull-esit-pl.netlify.app/recursos/">Rec</a></li>
            <li><a href="/timetables.html">Hor</a></li>
            <li><a href="/references.html">Refs</a></li>
            <li><a href="/clases.html">Clases</a></li>
            <li><a href="/practicas.html">Prácticas </a></li> 
            <li><a href="/index.html">DMSI</a></li>
            
        </ul>
        </nav>
    </div>
    <!-- end header -->


    <div class="wrapper">

        <section>
            <div id="title">
                <h1>Desarrollo y Mantenimiento de Sistemas Informáticos</h1>
                <p> 4º. 1er cuatrimestre. Itinerario de Sistemas de la Información. Grado en Ingeniería Informática. ULL</p>
                <hr>
                <span class="credits left">Organization <a href="https://github.com/ULL-ESIT-DMSI-2324" target="_blank">org</a></span>
                <span class="credits left"> &nbsp; Github Classroom <a href="https://classroom.github.com/classrooms/108465062-ull-esit-dmsi-2324" target="_blank">classroom</a></span>
                <span class="credits left"> &nbsp; Campus Virtual <a href="https://campusingenieriaytecnologia2324.ull.es/course/view.php?id=2324090033" target="_blank">campus</a></span>
                <span class="credits left"> &nbsp; Students <a href="/teams" target="_blank">Activity</a></span>
                <span class="credits left"> &nbsp; Chat <a href="https://mail.google.com/chat/u/1/" target="_blank">Chat</a></span>
            </div>

            <ul>
  <li><a href="#introduction-to-the-jam-stack-with-nextjs-react-rest-and-netlify">Introduction to the JAM Stack with NextJS, React, REST and Netlify</a>
    <ul>
      <li><a href="#introduction-to-open-ai-rest-api">Introduction to Open AI REST API</a></li>
      <li><a href="#creating-an-account">Creating an Account</a></li>
      <li><a href="#generating-an-api-key">Generating an API key</a></li>
      <li><a href="#rest-exercises">REST exercises</a></li>
      <li><a href="#setup">Setup</a></li>
      <li><a href="#single-page-applications">Single Page Applications</a></li>
      <li><a href="#what-is-rendering">What is Rendering</a></li>
      <li><a href="#origin-servers-cdns-and-edges">Origin Servers, CDNs and Edges</a>
        <ul>
          <li><a href="#origin-servers">Origin Servers</a></li>
          <li><a href="#content-delivery-network">Content Delivery Network</a></li>
          <li><a href="#the-edge">The Edge</a></li>
        </ul>
      </li>
      <li><a href="#the-pages-folder">The pages folder</a>
        <ul>
          <li><a href="#references">References</a></li>
        </ul>
      </li>
      <li><a href="#the-pages-folder-dynamic-routes">The pages folder: Dynamic routes</a>
        <ul>
          <li><a href="#exercise-on-dynamic-routes">Exercise on Dynamic Routes</a></li>
        </ul>
      </li>
      <li><a href="#nextjs-pagesapi-folder">next.js pages/api folder</a></li>
      <li><a href="#serverless-functions">Serverless Functions</a></li>
      <li><a href="#pagesapigeneratejs">pages/api/generate.js</a>
        <ul>
          <li><a href="#environment-processenvopenai_api_key">Environment: <code class="language-plaintext highlighter-rouge">process.env.OPENAI_API_KEY</code></a>
            <ul>
              <li><a href="#exposing-environment-to-the-browser">Exposing Environment to the browser</a></li>
              <li><a href="#vercel-environment-variables">Vercel: Environment Variables</a></li>
              <li><a href="#netlify-environment-variables">Netlify: Environment Variables</a></li>
              <li><a href="#references-1">References</a></li>
            </ul>
          </li>
          <li><a href="#request-and-response-objects-export-default-async-function-req-res---">Request and Response objects: <code class="language-plaintext highlighter-rouge">export default async function (req, res) { ... }</code></a></li>
          <li><a href="#openai-completions-const-completion--await-openaicreatecompletion--">OpenAI Completions: <code class="language-plaintext highlighter-rouge">const completion = await openai.createCompletion({ ... })</code></a></li>
        </ul>
      </li>
      <li><a href="#pagesindexjs">pages/index.js</a>
        <ul>
          <li><a href="#jsx">JSX</a></li>
          <li><a href="#comments-to-import-head-from-nexthead">Comments to <code class="language-plaintext highlighter-rouge">import Head from "next/head"</code></a></li>
          <li><a href="#comments-to-import-styles-from-indexmodulecss">Comments to <code class="language-plaintext highlighter-rouge">import styles from "./index.module.css"</code></a></li>
          <li><a href="#comments-to-link-relicon-hrefdogpng-">Comments to <code class="language-plaintext highlighter-rouge">&lt;link rel="icon" href="/dog.png" /&gt;</code></a></li>
          <li><a href="#comments-to-main-classnamestylesmain-curly-braces-in-jsx">Comments to <code class="language-plaintext highlighter-rouge">&lt;main className={styles.main}&gt;</code> Curly Braces in JSX</a></li>
          <li><a href="#comments-to-form-onsubmitonsubmit-form">Comments to <code class="language-plaintext highlighter-rouge">&lt;form onSubmit={onSubmit}&gt; ...&lt;/form&gt;</code></a></li>
          <li><a href="#comments-to-const-response--await-fetchapigenerate---">Comments to <code class="language-plaintext highlighter-rouge">const response = await fetch("/api/generate", { ... })</code></a></li>
        </ul>
      </li>
      <li><a href="#state-in-react">State in React</a>
        <ul>
          <li><a href="#react-states">React States</a></li>
          <li><a href="#the-usestate-hook">The useState hook</a></li>
          <li><a href="#state-in-our-application">State in our Application</a>
            <ul>
              <li><a href="#when-the-api-returns-the-result">When the API returns the result</a></li>
              <li><a href="#when-the-user-types-in-the-input-box">When the user types in the input box</a></li>
            </ul>
          </li>
          <li><a href="#references-2">References</a></li>
        </ul>
      </li>
      <li><a href="#continue-learning-react">Continue learning React</a></li>
      <li><a href="#stages-of-a-web-application">Stages of a web application</a></li>
      <li><a href="#build">build</a>
        <ul>
          <li><a href="#the-nextjs-compiler">The NextJS Compiler</a></li>
          <li><a href="#the-command-next-build">The command next build</a></li>
        </ul>
      </li>
      <li><a href="#production">Production</a></li>
      <li><a href="#exercise-deploy-at-netlify-with-the-ui">Exercise: Deploy at Netlify with the UI</a>
        <ul>
          <li><a href="#make-public-your-repo">Make public your repo</a></li>
          <li><a href="#deploy-with-the-netlify-ui">Deploy with the Netlify UI</a></li>
        </ul>
      </li>
      <li><a href="#netlify-environment-variables-1">Netlify Environment Variables</a></li>
      <li><a href="#exercise-deploy-with-the-netlify-cli">Exercise: Deploy with the Netlify CLI</a>
        <ul>
          <li><a href="#install-the-netlify-cli">Install the Netlify CLI</a></li>
          <li><a href="#link-the-repo-to-netlify">Link the repo to Netlify</a></li>
          <li><a href="#check-the-status">Check the status</a></li>
          <li><a href="#listgetset-the-environment-variables">List/Get/Set the environment variables</a></li>
          <li><a href="#development-mode-with-the-netlify-cli">Development mode with the Netlify CLI</a></li>
          <li><a href="#deploying-with-the-netlify-cli">Deploying with the Netlify CLI</a></li>
        </ul>
      </li>
      <li><a href="#exercise-deploy-the-app-to-vercel">Exercise: Deploy the app to Vercel</a>
        <ul>
          <li><a href="#deploying-with-the-vercel-cli">Deploying with the Vercel CLI</a></li>
        </ul>
      </li>
      <li><a href="#exercise-get-images-from-openai">Exercise: Get images from OpenAI</a></li>
      <li><a href="#rubrica">Rubrica</a></li>
      <li><a href="#references-3">References</a></li>
    </ul>
  </li>
</ul>

<h1 id="introduction-to-the-jam-stack-with-nextjs-react-rest-and-netlify">Introduction to the JAM Stack with NextJS, React, REST and Netlify</h1>

<h2 id="introduction-to-open-ai-rest-api">Introduction to Open AI REST API</h2>

<p>In this lab we will build a “pet name generator web app” wich is described in the</p>

<ul>
  <li>OpenAI API <a href="https://beta.openai.com/docs/quickstart">quickstart tutorial</a>.</li>
</ul>

<p>You can see a solution deployed at netlify:  <a href="https://nextjs-oai.netlify.app/">https://nextjs-oai.netlify.app/</a></p>

<p>The code uses the <a href="https://nextjs.org/">Next.js</a> framework with <a href="https://reactjs.org/">React</a>.</p>

<p><a href="https://nextjs.org/learn/foundations/about-nextjs">Next.js</a> is a framework on top of React that handles the tooling and configuration needed for React, and provides additional structure, features, and optimizations for your application.</p>

<p>Read  both this tutorial and the original <a href="https://beta.openai.com/docs/quickstart">OpenAI API quickstart tutorial</a>.</p>

<h2 id="creating-an-account">Creating an Account</h2>

<p><a href="https://openai.com/api/">Create an account at openai api</a>. Unfortunately, at some point is going to ask you for a phone number:</p>

<p><img src="/assets/images/openai-registration-phone-number.png" alt="openapi registration phone number" /></p>

<p>It does not provide any alternatives. Let me know in advance if this is a problem for you.</p>

<h2 id="generating-an-api-key">Generating an API key</h2>

<p>Go to the user on the upper right corner and click on the API Keys tab. 
<img src="/assets/images/nextjs/menu-1.png" alt="" /></p>

<p>Choose View API Keys.</p>

<p><img src="/assets/images/nextjs/generate-api-key.png" alt="" /></p>

<p>Click on the “Create new secret Key” button and copy the key.</p>

<h2 id="rest-exercises">REST exercises</h2>

<p>Make requests to the OpenAI API using a client like the Thunder Client or Postman or Insomnia.</p>

<ol>
  <li>To get all models</li>
  <li>To get info of a model</li>
  <li>To get a cute image</li>
  <li>To get a completion</li>
  <li>To get a moderation</li>
</ol>

<p>See <a href="https://beta.openai.com/docs/api-reference/">https://beta.openai.com/docs/api-reference/</a></p>

<h2 id="setup">Setup</h2>

<p>Here is the file tree hierarchy of the project:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>✗ tree -I node_modules 
.
├── README.md
├── docs
│   └── images
│       ├── generate-api-key.png
│       ├── local-app-runnning.png
│       └── menu-1.png
├── package-lock.json
├── package.json
├── pages
│   ├── api
│   │   └── generate.js
│   ├── index.js
│   └── index.module.css
└── public
    └── dog.png

5 directories, 10 files
</code></pre></div></div>

<p>Proceed as follows:</p>

<ol>
  <li>
    <p>Starting with the assignment repo, install the requirements</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>npm <span class="nb">install</span>
</code></pre></div>    </div>

    <p>Which installs the dependencies listed in <code class="language-plaintext highlighter-rouge">package.json</code>:</p>

    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">➜</span><span class="w">  </span><span class="err">openai-quickstart-node</span><span class="w"> </span><span class="err">git:(main)</span><span class="w"> </span><span class="err">✗</span><span class="w"> </span><span class="err">jq</span><span class="w"> </span><span class="err">'.dependencies'</span><span class="w"> </span><span class="err">package.json</span><span class="w"> 
 </span><span class="p">{</span><span class="w">
   </span><span class="nl">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^12.1.6"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"openai"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^3.0.0"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"react"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17.0.2"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"react-dom"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17.0.2"</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>
    <p>Notice that the <code class="language-plaintext highlighter-rouge">next</code> version major is 12</p>
  </li>
  <li>
    <p>Make a copy of the example environment variables file</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cp</span> .env.example .env
</code></pre></div>    </div>
  </li>
  <li>
    <p>Add your <a href="https://beta.openai.com/account/api-keys">API key</a> to the newly created <code class="language-plaintext highlighter-rouge">.env</code> file</p>
  </li>
  <li>
    <p>Run the app</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>npm run dev
</code></pre></div>    </div>

    <p>The console shows:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜  openai-quickstart-node git:(master) ✗ npm run dev

&gt; openai-quickstart-node@0.1.0 dev
&gt; next dev

ready - started server on 0.0.0.0:3000, url: http://localhost:3000
info  - Loaded env from /Users/casianorodriguezleon/campus-virtual/2223/learning/openai-learning/openai-quickstart-node/.env
wait  - compiling...
event - compiled client and server successfully in 1174 ms (113 modules)
</code></pre></div>    </div>
  </li>
  <li>
    <p>You should now be able to access the app at <a href="http://localhost:3000">http://localhost:3000</a>!</p>

    <p><img src="/assets/images/nextjs/local-app-runnning.png" alt="" /></p>
  </li>
</ol>

<p>For the context behind this example app, check out the <a href="https://beta.openai.com/docs/quickstart">Open AI tutorial</a>.</p>

<h2 id="single-page-applications">Single Page Applications</h2>

<p>Single Page Applications (SPAs) and Multi-Page Applications (MPAs) are architectural patterns for building web applications.</p>

<p><strong>SPA</strong>s are reactive web applications that give a native look and feel without page loads. SPAs owe this to AJAX+Client-Side Rendering typically provided by a client-side framework such as react/vue/angular.</p>

<p><strong>AJAX</strong> stands for Asynchronous JavaScript And XML. It is the use of the XMLHttpRequest object to communicate with servers. It can send and receive information in various formats, including JSON, XML, HTML, and text files.</p>

<p>Many in the industry refer to more traditional web applications as Multi-Page Applications (MPAs). Such applications are comprised of multiple webpages that the user navigates between.</p>

<p><img src="/assets/images/spa-mpa-lifecycle.jpg" alt="spa-mpa-lifecycle.jpg" /></p>

<h2 id="what-is-rendering">What is Rendering</h2>

<p><strong>Rendering</strong> is the conversion of the source code written in a reactive framework (React/Vue/AngularJS) into <strong>the HTML representation of your User Interface</strong>. 
Rendering can take place</p>
<ol>
  <li>on the server or</li>
  <li>on the client.</li>
</ol>

<p>It can happen either</p>

<ol>
  <li>ahead of time at <strong>build time</strong>, or</li>
  <li>on every request at runtime.</li>
</ol>

<p>With Next.js, three types of rendering methods are available:</p>

<ol>
  <li>
    <p>Server-Side Rendering,</p>

    <p><img src="https://nextjs.org/static/images/learn/foundations/pre-rendering.png" alt="" /></p>

    <p>On the client, the HTML is used to show a fast non-interactive page, while React uses the JSON data and JavaScript instructions to make components interactive. This process is called <strong>hydration</strong>.</p>
  </li>
  <li>Static Site Generation, and</li>
  <li>
    <p>Client-Side Rendering.</p>

    <p><img src="https://nextjs.org/static/images/learn/foundations/client-side-rendering.png" alt="" /></p>
  </li>
</ol>

<p><strong>Server-Side Rendering</strong> and <strong>Static Site Generation</strong> are also referred to as <strong>Pre-Rendering</strong> 
because the fetching of external data and transformation of components into HTML happens <strong>before</strong> 
the result is sent to the client.</p>

<h2 id="origin-servers-cdns-and-edges">Origin Servers, CDNs and Edges</h2>

<h3 id="origin-servers">Origin Servers</h3>

<p>The origin server refers to the main computer that stores and runs the original version of your application code. When an origin server receives a request, it does some computation before sending a response. <strong>The result of this computation work can be moved to a CDN (Content Delivery Network)</strong>.</p>

<h3 id="content-delivery-network">Content Delivery Network</h3>

<p>CDNs store <strong>static content</strong> (such as HTML and image files) in multiple locations around the world and are placed between the client and the origin server. When a new request comes in, the closest CDN location to the user can respond with the cached result.</p>

<p><img src="/assets/images/cdn.png" alt="cdn.png" /></p>

<h3 id="the-edge">The Edge</h3>

<p>Edge servers are distributed to multiple locations around the world. Unlike CDNs, which store static content, Edge servers can run small snippets of code. Edge computing supports not only transmitting cached data but other types of computing like live streaming and gaming.</p>

<h2 id="the-pages-folder">The pages folder</h2>

<p>In Next.js, a <strong>page</strong> is a</p>

<ol>
  <li>React Component. A React Component is a function that returns a UI element and can receive props as input.</li>
  <li>exported from a <code class="language-plaintext highlighter-rouge">.js</code>, <code class="language-plaintext highlighter-rouge">.jsx</code>, <code class="language-plaintext highlighter-rouge">.ts</code>, or <code class="language-plaintext highlighter-rouge">.tsx</code> file and</li>
  <li>it must be in the <code class="language-plaintext highlighter-rouge">pages</code> directory.</li>
</ol>

<p>Each page is associated with a route based on its file name.</p>

<p>The <code class="language-plaintext highlighter-rouge">index.js</code> file is the main page <code class="language-plaintext highlighter-rouge">/</code> for the app.</p>

<p>Pages can also be added under <code class="language-plaintext highlighter-rouge">src/pages</code> as an alternative to the root <code class="language-plaintext highlighter-rouge">pages</code> directory.</p>

<p>The <code class="language-plaintext highlighter-rouge">src</code> directory is very common in many apps and Next.js supports it by default.</p>

<p><strong>Example</strong>: If you create <code class="language-plaintext highlighter-rouge">pages/about.js</code> that exports a React component like below, it will be accessible at <code class="language-plaintext highlighter-rouge">/about</code>.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">About</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="references">References</h3>

<p>See <a href="https://nextjs.org/docs/basic-features/pages">https://nextjs.org/docs/basic-features/pages</a></p>

<h2 id="the-pages-folder-dynamic-routes">The pages folder: Dynamic routes</h2>

<p>Next.js also supports pages with <a href="https://nextjs.org/docs/routing/dynamic-routes">dynamic routes</a>. 
For example, if you create a file called <code class="language-plaintext highlighter-rouge">pages/posts/[id].js</code>, then it will be accessible at <code class="language-plaintext highlighter-rouge">posts/1</code>, <code class="language-plaintext highlighter-rouge">posts/2</code>, etc.</p>

<p>See the full code of the examples used in this section in the repo <a href="https://github.com/ULL-MII-SYTWS/nextjs-dynamic-routes">ULL-MII-SYTWS/nextjs-dynamic-routes</a></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜  nextjs-dynamic-routes tree -I node_modules
.
├── README.md
├── package-lock.json
├── package.json
└── pages
    ├── index.jsx
    └── post
        ├── [pid]
        │   └── [comment].js
        └── [pid].js
</code></pre></div></div>

<p>Consider the following page <code class="language-plaintext highlighter-rouge">pages/post/[pid].js</code>:</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">useRouter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">next/router</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">Post</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nx">useRouter</span><span class="p">()</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">router</span><span class="p">.</span><span class="nx">query</span><span class="p">)</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">pid</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">router</span><span class="p">.</span><span class="nx">query</span>
  <span class="k">return</span> <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Post: <span class="si">{</span><span class="nx">pid</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">Post</span>
</code></pre></div></div>

<p>Any route like <code class="language-plaintext highlighter-rouge">/post/1</code>, <code class="language-plaintext highlighter-rouge">/post/abc</code>, etc. will be matched by pages <code class="language-plaintext highlighter-rouge">/post/[pid].js</code>. 
The matched <code class="language-plaintext highlighter-rouge">path</code> parameter will be sent as a query parameter to the page, and it will be merged with the other query parameters.</p>

<p>For example, The page <code class="language-plaintext highlighter-rouge">pages/post/[pid]/[comment].js</code></p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">useRouter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">next/router</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">Comment</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nx">useRouter</span><span class="p">()</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">router</span><span class="p">.</span><span class="nx">query</span><span class="p">)</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">pid</span><span class="p">,</span> <span class="nx">comment</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">router</span><span class="p">.</span><span class="nx">query</span>

  <span class="k">return</span> <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>pid: <span class="si">{</span><span class="nx">pid</span><span class="si">}</span> Comment: <span class="si">{</span><span class="nx">comment</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">Comment</span>
</code></pre></div></div>

<p>will match the route <code class="language-plaintext highlighter-rouge">/post/abc/a-comment</code> and its query object will be:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"pid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc"</span><span class="p">,</span><span class="w"> </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-comment"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜  openai-quickstart-node git:(main) ✗ npx next --version 
Next.js v12.1.6
</code></pre></div></div>

<p>Client-side navigations to dynamic routes are handled with <a href="https://nextjs.org/docs/api-reference/next/link">next/link</a>. If we wanted to have links to the routes used above it will look like this:</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">Link</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">next/link</span><span class="dl">'</span>

<span class="kd">function</span> <span class="nx">Home</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">href</span><span class="p">=</span><span class="s">"/post/abc"</span><span class="p">&gt;</span>Go to pages/post/[pid].js<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">href</span><span class="p">=</span><span class="s">"/post/abc?foo=bar"</span><span class="p">&gt;</span>Also goes to pages/post/[pid].js<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">href</span><span class="p">=</span><span class="s">"/post/abc/a-comment"</span><span class="p">&gt;</span>
          Go to pages/post/[pid]/[comment].js
        <span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">Home</span>
</code></pre></div></div>

<p>NextJS provides through <code class="language-plaintext highlighter-rouge">next/link</code> a  React component called <code class="language-plaintext highlighter-rouge">Link</code> to do client-side route transitions.
See <a href="https://nextjs.org/docs/routing/introduction">Introduction to Routing</a> in the NextJS docs.</p>

<p>See the code at <a href="https://github.com/ULL-MII-SYTWS/nextjs-dynamic-routes">ULL-MII-SYTWS/nextjs-dynamic-routes</a></p>

<h3 id="exercise-on-dynamic-routes">Exercise on Dynamic Routes</h3>

<p>Follow the tutorial <a href="https://nextjs.org/learn/basics/dynamic-routes">Dynamic Routes</a> at <a href="https://nextjs.org/learn/basics/dynamic-routes">https://nextjs.org/learn/basics/dynamic-routes</a> and solve the exercises.</p>

<h2 id="nextjs-pagesapi-folder">next.js pages/api folder</h2>

<p>Any file inside the folder <code class="language-plaintext highlighter-rouge">pages/api</code> is mapped to <code class="language-plaintext highlighter-rouge">/api/*</code> and <strong>will be treated as an API endpoint instead of a page</strong>.</p>

<p><strong>They are server-side only bundles</strong> and won’t increase your client-side bundle size. See the section <a href="https://nextjs.org/docs/api-routes/introduction">API Routes</a> introduction.</p>

<p>Each page is associated with a <strong>route</strong> based on its file name.</p>

<p>Since we have the file <code class="language-plaintext highlighter-rouge">pages/api/generate.js</code>, Next.js will make it accessible at the route <code class="language-plaintext highlighter-rouge">/api/generate</code>.</p>

<p>Create a file called <code class="language-plaintext highlighter-rouge">hello.js</code> in <code class="language-plaintext highlighter-rouge">pages/api</code> with the following code:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">handler</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mi">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span> <span class="na">text</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Hello</span><span class="dl">'</span> <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Try accessing it at <a href="http://localhost:3000/api/hello">http://localhost:3000/api/hello</a>. You should see <code class="language-plaintext highlighter-rouge">{"text":"Hello"}</code>. Note that:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">req</code> is an instance of <a href="https://nodejs.org/api/http.html#class-httpincomingmessage">http.IncomingMessage</a>, plus some pre-built <a href="https://nextjs.org/docs/api-routes/api-middlewares">middlewares</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">res</code> is an instance of <a href="https://nodejs.org/api/http.html#http_class_http_serverresponse">http.ServerResponse</a>, plus some <a href="https://nextjs.org/docs/api-routes/response-helpers">helper functions</a>.</li>
</ul>

<p>Functions exported by files inside the folder <code class="language-plaintext highlighter-rouge">pages/api</code> can be deployed as <strong>Serverless Functions</strong> (also known as <strong>Lambdas</strong>).</p>

<p>API Routes can be dynamic, just like regular pages.</p>

<h2 id="serverless-functions">Serverless Functions</h2>

<p><a href="https://sytws.netlify.app/temas/web/serverless.html#serverless-functions">A <strong>serverless</strong> function</a> is a piece of code that is executed in response to a specific event, such as an HTTP request or a message being added to a queue. It is called “<em>serverless</em>” because the developer does not have to worry about the underlying infrastructure that the code will be running on. Instead, the infrastructure is managed by a third party, such as AWS Lambda or Google Cloud Functions.</p>

<p>The developer only needs to provide the code and specify the events that should trigger the code to be executed. The <strong>serverless provider</strong> takes care of the rest, including automatically scaling the function to handle a large number of requests.</p>

<p><img src="https://sytws.netlify.app/images/how-do-serverless-functions-work.png" alt="https://sytws.netlify.app/images/how-do-serverless-functions-work.png" /></p>

<h2 id="pagesapigeneratejs">pages/api/generate.js</h2>

<p>See <a href="https://www.npmjs.com/package/openai">https://www.npmjs.com/package/openai</a>. Check out the <a href="https://beta.openai.com/docs/api-reference?lang=node.js">full API documentation</a> for examples of all the available functions in <code class="language-plaintext highlighter-rouge">openai</code>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Configuration</span><span class="p">,</span> <span class="nx">OpenAIApi</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">openai</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">configuration</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Configuration</span><span class="p">({</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">OPENAI_API_KEY</span><span class="p">,</span>
<span class="p">});</span>
<span class="kd">const</span> <span class="nx">openai</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OpenAIApi</span><span class="p">(</span><span class="nx">configuration</span><span class="p">);</span>

<span class="k">export</span> <span class="k">default</span> <span class="k">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">completion</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">openai</span><span class="p">.</span><span class="nx">createCompletion</span><span class="p">({</span>
    <span class="na">model</span><span class="p">:</span> <span class="dl">"</span><span class="s2">text-davinci-002</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">prompt</span><span class="p">:</span> <span class="nx">generatePrompt</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">animal</span><span class="p">),</span>
    <span class="na">temperature</span><span class="p">:</span> <span class="mf">0.6</span><span class="p">,</span>
  <span class="p">});</span>
  <span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mi">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span> <span class="na">result</span><span class="p">:</span> <span class="nx">completion</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">text</span> <span class="p">});</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">generatePrompt</span><span class="p">(</span><span class="nx">animal</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">capitalizedAnimal</span> <span class="o">=</span>
    <span class="nx">animal</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">+</span> <span class="nx">animal</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">();</span>
  <span class="k">return</span> <span class="s2">`Suggest three names for an animal that is a superhero.

Animal: Cat
Names: Captain Sharpclaw, Agent Fluffball, The Incredible Feline
Animal: Dog
Names: Ruff the Protector, Wonder Canine, Sir Barks-a-Lot
Animal: </span><span class="p">${</span><span class="nx">capitalizedAnimal</span><span class="p">}</span><span class="s2">
Names:`</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>For a <a href="https://nextjs.org/docs/api-routes/introduction">Nextjs API route</a> to work, you need to export a function as <code class="language-plaintext highlighter-rouge">default</code> (a.k.a request handler), which then receives the following parameters:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">req</code>: An instance of <code class="language-plaintext highlighter-rouge">http.IncomingMessage</code>, plus some pre-built middlewares</li>
  <li><code class="language-plaintext highlighter-rouge">res</code>: An instance of <code class="language-plaintext highlighter-rouge">http.ServerResponse</code>, plus some helper functions</li>
</ul>

<h3 id="environment-processenvopenai_api_key">Environment: <code class="language-plaintext highlighter-rouge">process.env.OPENAI_API_KEY</code></h3>

<p>Next.js allows you to set environment variables in</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">.env</code> (all environments),</li>
  <li><code class="language-plaintext highlighter-rouge">.env.development</code> (development environment), and</li>
  <li><code class="language-plaintext highlighter-rouge">.env.production</code> (production environment).</li>
  <li><code class="language-plaintext highlighter-rouge">.env.local</code> always overrides the defaults set.</li>
</ol>

<p>The variables are accesible into <code class="language-plaintext highlighter-rouge">process.env</code>.</p>

<p>By default <strong>environment variables are only available in the Node.js environment, meaning they won’t be exposed to the browser</strong>.</p>

<h4 id="exposing-environment-to-the-browser">Exposing Environment to the browser</h4>

<p>In order to expose a variable to the browser you have to prefix the variable with <code class="language-plaintext highlighter-rouge">NEXT_PUBLIC_</code>.</p>

<h4 id="vercel-environment-variables">Vercel: Environment Variables</h4>

<p>When deploying your Next.js application to Vercel, Environment Variables can be configured in the <a href="https://vercel.com/docs/concepts/projects/environment-variables?utm_source=next-site&amp;utm_medium=docs&amp;utm_campaign=next-website">Project Settings</a>.</p>

<h4 id="netlify-environment-variables">Netlify: Environment Variables</h4>

<p>In Netlify you can use the Netlify UI. Head over to the Build &amp; Deploy settings in your Site Settings, and then plug your values in under “Environment variables” or alternatively, use the <a href="https://docs.netlify.com/cli/get-started/?_ga=2.210632407.351830897.1670331128-1485033729.1667990322#link-with-an-environment-variable">Netlify CLI</a></p>

<h4 id="references-1">References</h4>

<ul>
  <li><a href="https://nextjs.org/docs/basic-features/environment-variables">https://nextjs.org/docs/basic-features/environment-variables</a></li>
</ul>

<h3 id="request-and-response-objects-export-default-async-function-req-res---">Request and Response objects: <code class="language-plaintext highlighter-rouge">export default async function (req, res) { ... }</code></h3>

<p>The <strong>Server Request Object</strong> (<code class="language-plaintext highlighter-rouge">req</code>) includes a set of 
Express.js-like helper methods to improve the developer experience and increase the speed of creating new API endpoints:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">req.cookies</code> - An object containing the cookies sent by the request. Defaults to <code class="language-plaintext highlighter-rouge">{}</code></li>
  <li><code class="language-plaintext highlighter-rouge">req.query</code> - An object containing the query string. Defaults to <code class="language-plaintext highlighter-rouge">{}</code></li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">req.body</code> - An object containing the <code class="language-plaintext highlighter-rouge">body</code> parsed by <code class="language-plaintext highlighter-rouge">content-type</code>, or <code class="language-plaintext highlighter-rouge">null</code> if no body was sent</p>

    <p>See the code fragment <code class="language-plaintext highlighter-rouge">generatePrompt(req.body.animal)</code></p>
  </li>
</ul>

<p>The <strong>Server Response object</strong>, ( abbreviated as <code class="language-plaintext highlighter-rouge">res</code>) includes a set of 
Express.js-like helper methods to improve the developer experience and increase the speed of creating new API endpoints:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">res.status(code)</code> - A function to set the status code. code must be a valid HTTP status code</li>
  <li><code class="language-plaintext highlighter-rouge">res.json(body)</code> - Sends a JSON response. body must be a serializable object</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">res.send(body)</code> - Sends the HTTP response. body can be a string, an object or a Buffer</p>

    <p>See the code fragment <code class="language-plaintext highlighter-rouge">res.status(200).json({ result: completion.data.choices[0].text });</code></p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">res.redirect([status,] path)</code> - Redirects to a specified <code class="language-plaintext highlighter-rouge">path</code> or URL. <code class="language-plaintext highlighter-rouge">status</code> must be a valid HTTP status code.
    <ul>
      <li>If not specified, <code class="language-plaintext highlighter-rouge">status</code> defaults to “307” “Temporary redirect”.</li>
      <li>If <code class="language-plaintext highlighter-rouge">path</code> starts with “http” or “//”, the redirect is external.</li>
    </ul>
  </li>
</ul>

<h3 id="openai-completions-const-completion--await-openaicreatecompletion--">OpenAI Completions: <code class="language-plaintext highlighter-rouge">const completion = await openai.createCompletion({ ... })</code></h3>

<p>See the documentation at  <a href="https://beta.openai.com/docs/api-reference/completions/create">https://beta.openai.com/docs/api-reference/completions/create</a></p>

<p>It makes a POST request to <a href="https://api.openai.com/v1/completions">https://api.openai.com/v1/completions</a>:</p>

<p>In the JSON body goes:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">model</code>: <code class="language-plaintext highlighter-rouge">ID</code> of the model to use. You can use the List models API to see all of your available models</li>
  <li><code class="language-plaintext highlighter-rouge">prompt</code>: string to generate completions for, encoded as a string, array of strings, array of tokens, or array of token arrays.</li>
  <li><code class="language-plaintext highlighter-rouge">temperature</code>: Higher values means the model will take more risks. Try 0.9 for more creative applications, and 0  for ones with a well-defined answer.</li>
</ul>

<p>The response is a JSON object with the following fields:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cmpl-uqkvlQyYK7bGYrRHQ0eXlWi7"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text_completion"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1589478378</span><span class="p">,</span><span class="w">
  </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text-davinci-003"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"choices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"</span><span class="se">\n\n</span><span class="s2">This is indeed a test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"logprobs"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"finish_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"length"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"usage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"prompt_tokens"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"completion_tokens"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total_tokens"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="pagesindexjs">pages/index.js</h2>

<p>The <code class="language-plaintext highlighter-rouge">index.js</code> file inside the <code class="language-plaintext highlighter-rouge">pages</code> directory is the page that is rendered when the user visits the root of your application.
It exports a <strong>React component</strong> that renders the home page.</p>

<p>There are three core concepts of React that you’ll need to be familiar with to start building React applications. These are:</p>

<ul>
  <li><a href="https://nextjs.org/learn/foundations/from-javascript-to-react/building-ui-with-components">Components</a></li>
  <li><a href="https://nextjs.org/learn/foundations/from-javascript-to-react/displaying-data-with-props">Props</a></li>
  <li><a href="https://nextjs.org/learn/foundations/from-javascript-to-react/adding-interactivity-with-state">State</a></li>
</ul>

<p>In Next.js, a <strong>page</strong> is a React Component exported from a .js, .jsx, .ts, or .tsx file in the <code class="language-plaintext highlighter-rouge">pages</code> directory. 
Each page is associated with a route based on its file name.</p>

<p>thus, <code class="language-plaintext highlighter-rouge">index.js</code> is a <strong>page</strong> and <code class="language-plaintext highlighter-rouge">index.module.css</code> is a <strong>module</strong>.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">Head</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/head</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">styles</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./index.module.css</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Home</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">animalInput</span><span class="p">,</span> <span class="nx">setAnimalInput</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="dl">""</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">result</span><span class="p">,</span> <span class="nx">setResult</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">();</span>

  <span class="k">async</span> <span class="kd">function</span> <span class="nx">onSubmit</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">/api/generate</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">animal</span><span class="p">:</span> <span class="nx">animalInput</span> <span class="p">}),</span>
    <span class="p">});</span>
    <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
    <span class="nx">setResult</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">result</span><span class="p">);</span>
    <span class="nx">setAnimalInput</span><span class="p">(</span><span class="dl">""</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>OpenAI Quickstart<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="p">=</span><span class="s">"icon"</span> <span class="na">href</span><span class="p">=</span><span class="s">"/dog.png"</span> <span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nc">Head</span><span class="p">&gt;</span>

      <span class="p">&lt;</span><span class="nt">main</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">main</span><span class="si">}</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="p">=</span><span class="s">"/dog.png"</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">icon</span><span class="si">}</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Name my pet<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">form</span> <span class="na">onSubmit</span><span class="p">=</span><span class="si">{</span><span class="nx">onSubmit</span><span class="si">}</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">input</span>
            <span class="na">type</span><span class="p">=</span><span class="s">"text"</span>
            <span class="na">name</span><span class="p">=</span><span class="s">"animal"</span>
            <span class="na">placeholder</span><span class="p">=</span><span class="s">"Enter an animal"</span>
            <span class="na">value</span><span class="p">=</span><span class="si">{</span><span class="nx">animalInput</span><span class="si">}</span>
            <span class="na">onChange</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">setAnimalInput</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="si">}</span>
          <span class="p">/&gt;</span>
          <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="p">=</span><span class="s">"submit"</span> <span class="na">value</span><span class="p">=</span><span class="s">"Generate names"</span> <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">result</span><span class="si">}</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">result</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="jsx">JSX</h3>

<p>JSX stands for JavaScript eXtended markup language. JSX is a syntax extension for JavaScript that allows you to describe your UI in a familiar HTML-like syntax. 
This code is JSX:</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>OpenAI Quickstart<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="p">=</span><span class="s">"icon"</span> <span class="na">href</span><span class="p">=</span><span class="s">"/dog.png"</span> <span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nc">Head</span><span class="p">&gt;</span>

      <span class="p">&lt;</span><span class="nt">main</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">main</span><span class="si">}</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="p">=</span><span class="s">"/dog.png"</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">icon</span><span class="si">}</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Name my pet<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">form</span> <span class="na">onSubmit</span><span class="p">=</span><span class="si">{</span><span class="nx">onSubmit</span><span class="si">}</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">input</span>
            <span class="na">type</span><span class="p">=</span><span class="s">"text"</span>
            <span class="na">name</span><span class="p">=</span><span class="s">"animal"</span>
            <span class="na">placeholder</span><span class="p">=</span><span class="s">"Enter an animal"</span>
            <span class="na">value</span><span class="p">=</span><span class="si">{</span><span class="nx">animalInput</span><span class="si">}</span>
            <span class="na">onChange</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">setAnimalInput</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="si">}</span>
          <span class="p">/&gt;</span>
          <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="p">=</span><span class="s">"submit"</span> <span class="na">value</span><span class="p">=</span><span class="s">"Generate names"</span> <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">result</span><span class="si">}</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">result</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
</code></pre></div></div>

<p>It’s possible to use JavaScript inside JSX using curly braces. 
The example below sets the <code class="language-plaintext highlighter-rouge">value</code> property  of the  <code class="language-plaintext highlighter-rouge">input</code>
to the variable <code class="language-plaintext highlighter-rouge">animalInput</code> and the <code class="language-plaintext highlighter-rouge">onChange</code> property to a function that updates the <code class="language-plaintext highlighter-rouge">animalInput</code> variable to the value written by the user inside the input box:</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="p">=</span><span class="s">"text"</span> <span class="na">name</span><span class="p">=</span><span class="s">"animal"</span> <span class="na">placeholder</span><span class="p">=</span><span class="s">"Enter an animal"</span>
    <span class="na">value</span><span class="p">=</span><span class="si">{</span><span class="nx">animalInput</span><span class="si">}</span>
    <span class="na">onChange</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">setAnimalInput</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="si">}</span>
<span class="p">/&gt;</span>
</code></pre></div></div>

<p>The nice thing about JSX is that apart from <a href="https://beta.reactjs.org/learn/writing-markup-with-jsx#the-rules-of-jsx">following three JSX rules</a>, you don’t need to learn any new symbols or syntax outside of HTML and JavaScript:</p>

<ol>
  <li>Return a single root element: To return multiple elements from a component, wrap them with a single parent tag.</li>
  <li>Close all the tags: self-closing tags like <code class="language-plaintext highlighter-rouge">&lt;img&gt;</code> must become <code class="language-plaintext highlighter-rouge">&lt;img /&gt;</code></li>
  <li><strong>camelCase</strong> most of the things: For example, instead of <code class="language-plaintext highlighter-rouge">stroke-width</code> you use <code class="language-plaintext highlighter-rouge">strokeWidth</code>. Since <code class="language-plaintext highlighter-rouge">class</code> is a reserved word, in React you write <code class="language-plaintext highlighter-rouge">className</code> instead. Event names are also camelCased</li>
</ol>

<h3 id="comments-to-import-head-from-nexthead">Comments to <code class="language-plaintext highlighter-rouge">import Head from "next/head"</code></h3>

<p>nextjs provides a built-in <strong>component</strong> for appending elements to the <code class="language-plaintext highlighter-rouge">head</code> of the page so that it can 
be used in the JSX of the page:</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&lt;</span><span class="nc">Head</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>OpenAI Quickstart<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="p">=</span><span class="s">"icon"</span> <span class="na">href</span><span class="p">=</span><span class="s">"/dog.png"</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nc">Head</span><span class="p">&gt;</span>
</code></pre></div></div>

<p><img src="/assets/images/nextjs/HeadComponent.png" alt="assets/images/nextjs/HeadComponent.png" /></p>

<h3 id="comments-to-import-styles-from-indexmodulecss">Comments to <code class="language-plaintext highlighter-rouge">import styles from "./index.module.css"</code></h3>

<p>This is a <a href="https://nextjs.org/docs/basic-features/built-in-css-support#adding-component-level-css">CSS module</a>.</p>

<p>Next.js supports CSS Modules using the <code class="language-plaintext highlighter-rouge">[name].module.css</code> file naming convention.</p>

<p>CSS Modules <strong>locally scope</strong> CSS by automatically creating a <strong>unique class name</strong>.</p>

<p>This allows you to use the same CSS class name in different files without worrying about collisions.</p>

<p>We can then use the <code class="language-plaintext highlighter-rouge">styles</code> object like in:</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="p">=</span><span class="s">"/dog.png"</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">icon</span><span class="si">}</span> <span class="p">/&gt;</span>
</code></pre></div></div>
<p>or in this:</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">result</span><span class="si">}</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">result</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div></div>

<h3 id="comments-to-link-relicon-hrefdogpng-">Comments to <code class="language-plaintext highlighter-rouge">&lt;link rel="icon" href="/dog.png" /&gt;</code></h3>

<p>This line in the <code class="language-plaintext highlighter-rouge">&lt;Head&gt;</code> component adds a favicon to the page. 
You’ll find the image in the <code class="language-plaintext highlighter-rouge">public</code> directory.</p>

<p>Next.js can serve static files, like images, under a folder called <code class="language-plaintext highlighter-rouge">public</code> in the root directory.
Files inside <code class="language-plaintext highlighter-rouge">public</code> can then be referenced by your code starting from the base URL (<code class="language-plaintext highlighter-rouge">/</code>).</p>

<h3 id="comments-to-main-classnamestylesmain-curly-braces-in-jsx">Comments to <code class="language-plaintext highlighter-rouge">&lt;main className={styles.main}&gt;</code> Curly Braces in JSX</h3>

<p>JSX lets you write HTML-like markup inside a JavaScript file, keeping rendering logic and content in the same place. 
Sometimes you will want to add a little JavaScript logic or reference a dynamic property inside that markup. 
In this situation, you can use curly braces in your JSX to open a window to JavaScript: <code class="language-plaintext highlighter-rouge">&lt;main className={styles.main}&gt;</code></p>

<p>The only reason behind the fact that JSX uses <code class="language-plaintext highlighter-rouge">className</code> over <code class="language-plaintext highlighter-rouge">class</code> is that the <code class="language-plaintext highlighter-rouge">class</code> is a reserved keyword in JavaScript.</p>

<p>We are specifying that the <code class="language-plaintext highlighter-rouge">&lt;main&gt;</code> element should use the <code class="language-plaintext highlighter-rouge">main</code> class from the <code class="language-plaintext highlighter-rouge">index.module.css</code> file.</p>

<h3 id="comments-to-form-onsubmitonsubmit-form">Comments to <code class="language-plaintext highlighter-rouge">&lt;form onSubmit={onSubmit}&gt; ...&lt;/form&gt;</code></h3>

<p>The <code class="language-plaintext highlighter-rouge">onSubmit</code> <strong>prop</strong> is a special React <strong>prop</strong> that lets you specify a function that will be called when the form is submitted.</p>

<p>The async function <code class="language-plaintext highlighter-rouge">onSubmit</code> is called when the form is submitted:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">async</span> <span class="kd">function</span> <span class="nx">onSubmit</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">/api/generate</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">animal</span><span class="p">:</span> <span class="nx">animalInput</span> <span class="p">}),</span>
    <span class="p">});</span>
    <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
    <span class="nx">setResult</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">result</span><span class="p">);</span>
    <span class="nx">setAnimalInput</span><span class="p">(</span><span class="dl">""</span><span class="p">);</span>
  <span class="p">}</span>
</code></pre></div></div>

<h3 id="comments-to-const-response--await-fetchapigenerate---">Comments to <code class="language-plaintext highlighter-rouge">const response = await fetch("/api/generate", { ... })</code></h3>

<p>The <code class="language-plaintext highlighter-rouge">fetch</code> function makes a request to the <code class="language-plaintext highlighter-rouge">/api/generate</code> endpoint of the nextjs server.</p>

<p>Thus, the exported function in <code class="language-plaintext highlighter-rouge">pages/api/generate.js</code> is called and the JSON  returned at line</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mi">200</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span> <span class="na">result</span><span class="p">:</span> <span class="nx">completion</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">text</span> <span class="p">});</span>
</code></pre></div></div>

<p>will be received in <code class="language-plaintext highlighter-rouge">data</code> after the second <code class="language-plaintext highlighter-rouge">await</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>const data = await response.json()
</code></pre></div></div>

<h2 id="state-in-react">State in React</h2>

<h3 id="react-states">React States</h3>

<p><strong>React states</strong> are used to store data that can be changed over time.
In that sense, they are similar to variables declared with the <code class="language-plaintext highlighter-rouge">let</code> keyword.</p>

<p>The difference between a <strong>React state</strong> and a 
normal variable is that when a <strong>React state variable</strong> changes, 
the <strong>component is rendered again</strong> and some other things happens,
but when a normal variable changes, this does not happen.</p>

<h3 id="the-usestate-hook">The useState hook</h3>

<p>The <code class="language-plaintext highlighter-rouge">useState</code> hook <strong>allows us to create state variables for our components</strong>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">[</span><span class="nx">state</span><span class="p">,</span> <span class="nx">setState</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="nx">initialState</span><span class="p">);</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">useState</code> takes in an initial value as an argument and returns an array containing</p>

<ol>
  <li>the <strong>state</strong> variable and</li>
  <li>a <strong>setter</strong> function <code class="language-plaintext highlighter-rouge">setState</code> to mutate it</li>
</ol>

<p>During the initial render, the returned state (<code class="language-plaintext highlighter-rouge">state</code>) is the same as the value passed as the first argument (<code class="language-plaintext highlighter-rouge">initialState</code>).</p>

<p>The <code class="language-plaintext highlighter-rouge">setState</code> function is used to update the state. It accepts a new state value and <strong>enqueues a re-render of the component</strong>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">setState</span><span class="p">(</span><span class="nx">newState</span><span class="p">);</span>
</code></pre></div></div>

<p>During subsequent re-renders, the first value returned by <code class="language-plaintext highlighter-rouge">useState</code> will always be the most recent state after applying updates.</p>

<p>It is common practice to de-structure this array and set its contents to be <code class="language-plaintext highlighter-rouge">const</code>. 
This is because</p>

<ul>
  <li>the state variable <strong>should never be reassigned directly</strong> and</li>
  <li><strong>should only be modified via the setter function</strong>.</li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">setter</code> function accepts either</p>

<ol>
  <li>a new value or</li>
  <li>If the new state is computed using the previous state, you can pass a function to <code class="language-plaintext highlighter-rouge">setState</code>. The function will receive the previous value, and return an updated value. Here’s an example of a counter component that uses both forms of setState:</li>
</ol>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Counter</span><span class="p">({</span><span class="nx">initialCount</span><span class="p">})</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="nx">initialCount</span><span class="p">);</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;&gt;</span>
      Count: <span class="si">{</span><span class="nx">count</span><span class="si">}</span>
      <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">setCount</span><span class="p">(</span><span class="nx">initialCount</span><span class="p">)</span><span class="si">}</span><span class="p">&gt;</span>Reset<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">setCount</span><span class="p">(</span><span class="nx">prevCount</span> <span class="o">=&gt;</span> <span class="nx">prevCount</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="p">&gt;</span>-<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">setCount</span><span class="p">(</span><span class="nx">prevCount</span> <span class="o">=&gt;</span> <span class="nx">prevCount</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="p">&gt;</span>+<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="state-in-our-application">State in our Application</h3>

<p>In our code we have two states: <code class="language-plaintext highlighter-rouge">animalInput</code> and <code class="language-plaintext highlighter-rouge">result</code>.</p>

<p>Therefore,</p>

<ol>
  <li>each time the <code class="language-plaintext highlighter-rouge">animalInput</code> state changes, the component is rendered again.
    <ul>
      <li>The <code class="language-plaintext highlighter-rouge">animalInput</code>changes when the user types in the input field and when the API returns the result.</li>
    </ul>
  </li>
  <li>each time the <code class="language-plaintext highlighter-rouge">result</code> state changes, the component is rendered again.
    <ul>
      <li>The <code class="language-plaintext highlighter-rouge">result</code> changes when the API returns the result.</li>
    </ul>
  </li>
</ol>

<h4 id="when-the-api-returns-the-result">When the API returns the result</h4>

<p>Let’s review the code fragment:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">onSubmit</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
    <span class="nx">setResult</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">result</span><span class="p">);</span>
    <span class="nx">setAnimalInput</span><span class="p">(</span><span class="dl">""</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Since <code class="language-plaintext highlighter-rouge">data</code> has arrived from the API, we can set the <code class="language-plaintext highlighter-rouge">result</code> state to the value of <code class="language-plaintext highlighter-rouge">data.result</code>:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">setResult</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">result</span><span class="p">);</span> <span class="c1">// data just arrived from the API</span>
</code></pre></div></div>

<p>The component will be rendered showing the new <code class="language-plaintext highlighter-rouge">result</code>.</p>

<p>Also, the effect of</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">setAnimalInput</span><span class="p">(</span><span class="dl">""</span><span class="p">);</span>
</code></pre></div></div>

<p>is that the input component</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&lt;</span><span class="nt">input</span>  <span class="na">type</span><span class="p">=</span><span class="s">"text"</span> <span class="na">name</span><span class="p">=</span><span class="s">"animal"</span> <span class="na">placeholder</span><span class="p">=</span><span class="s">"Enter an animal"</span>
            <span class="na">value</span><span class="p">=</span><span class="si">{</span><span class="nx">animalInput</span><span class="si">}</span>
            <span class="na">onChange</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">setAnimalInput</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="si">}</span>
<span class="p">/&gt;</span>
</code></pre></div></div>

<p>will be rendered again with an empty value.</p>

<h4 id="when-the-user-types-in-the-input-box">When the user types in the input box</h4>

<p>To understand the line <code class="language-plaintext highlighter-rouge">onChange={(e) =&gt; setAnimalInput(e.target.value)</code> we need to know</p>

<ol>
  <li>that the <code class="language-plaintext highlighter-rouge">onchange</code> event occurs when the value of the <code class="language-plaintext highlighter-rouge">&lt;input&gt;</code> has been changed.</li>
  <li>The <code class="language-plaintext highlighter-rouge">target</code> property of the Event <code class="language-plaintext highlighter-rouge">e</code>  is a reference to the object onto which the event was dispatched, that is, the <code class="language-plaintext highlighter-rouge">&lt;input&gt;</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">setAnimalInput(e.target.value)</code> will be executed each time the user types a character in the <code class="language-plaintext highlighter-rouge">input</code> field and will change the value of the <code class="language-plaintext highlighter-rouge">animalInput</code> state.</li>
</ol>

<h3 id="references-2">References</h3>

<ul>
  <li>Read section <a href="https://beta.reactjs.org/learn/adding-interactivity">Adding Interactivity</a> of the React docs</li>
  <li>Section <a href="https://beta.reactjs.org/learn/managing-state">Managing State</a> of the React docs</li>
  <li>Read the blog <a href="https://blog.webdevsimplified.com/2020-04/use-state/">Everything You Need To Know About useState</a></li>
</ul>

<h2 id="continue-learning-react">Continue learning React</h2>

<p>Check out these other React topics:</p>

<ul>
  <li><a href="https://beta.reactjs.org/learn/render-and-commit">How React handles renders</a> and <a href="https://beta.reactjs.org/learn/referencing-values-with-refs">how to use refs</a></li>
  <li><a href="https://beta.reactjs.org/learn/managing-state">How to manage state</a></li>
  <li><a href="https://beta.reactjs.org/learn/passing-data-deeply-with-context">How to use context for deeply nested data</a></li>
  <li><a href="https://beta.reactjs.org/reference">How to use React API hooks</a> such as <code class="language-plaintext highlighter-rouge">useEffect()</code></li>
</ul>

<h2 id="stages-of-a-web-application">Stages of a web application</h2>

<p>A web application code must be in one of these different stages:</p>

<ol>
  <li>The <strong>environment</strong> where your code runs: <strong>Development</strong> vs. <strong>Production</strong>
    <ul>
      <li>During development, you’re building and running the application on your local machine.</li>
      <li>Going to production is the process of making your application ready to be deployed and consumed by users.</li>
    </ul>
  </li>
  <li><strong>When</strong> your code runs: <strong>Build Time</strong> vs. <strong>Runtime</strong></li>
  <li><strong>Where</strong> rendering happens: <strong>Client</strong> vs. <strong>Server</strong></li>
</ol>

<h2 id="build">build</h2>

<h3 id="the-nextjs-compiler">The NextJS Compiler</h3>

<p>The <strong>build stage</strong> is the stage where the code is compiled and optimized for production.
Among other thins the JSX code is converted to JavaScript.</p>

<p><img src="/assets/images/nextjs/compilingjsx2js.png" alt="compilingjsx2js.png" /></p>

<p>Another task is to minify the code. <strong>Minification</strong> refers to the process of removing unnecessary or redundant data without affecting how the resource is processed by the browser</p>
<ul>
  <li>code comments</li>
  <li>formatting,</li>
  <li>removing unused code,</li>
  <li>using shorter variable and function names,</li>
</ul>

<p>and so on. The goal is to reduce the size of the code and improve the performance of the application.</p>

<p><img src="/assets/images/nextjs/minifying.png" alt="minifying" /></p>

<p>Another stage of the Next.js compiler is <strong>Bundling</strong>. <strong>Bundling</strong> is the process of resolving the web of dependencies and merging (or ‘packaging’) the files (or modules) into optimized bundles for the browser, <strong>with the goal of reducing the number of requests for files when a user visits a web page</strong>:</p>

<p><img src="/assets/images/nextjs/bundling.png" alt="bundling" /></p>

<p>Developers usually split their applications into multiple pages that can be accessed from different URLs. Each of these pages becomes a unique <strong>entry point</strong> into the application.</p>

<p><strong>Code-splitting</strong> is the process of splitting the application’s bundle into smaller chunks required by each entry point. The goal is <strong>to improve the application’s initial load time by only loading the code required to run that page</strong>.</p>

<p><img src="/assets/images/nextjs/code-splitting.png" alt="" /></p>

<p>Next.js has built-in support for code splitting. Each file inside your <code class="language-plaintext highlighter-rouge">pages/</code> directory will be automatically code split into its own JavaScript bundle during the build step.</p>

<p>Other optimizations:</p>

<ul>
  <li>Any code shared between pages is also split into another bundle to avoid re-downloading the same code on further navigation.</li>
  <li>After the initial page load, Next.js can start <strong>pre-loading the code of other pages</strong> users are likely to navigate to.</li>
</ul>

<h3 id="the-command-next-build">The command next build</h3>

<p>The command <code class="language-plaintext highlighter-rouge">next build</code> creates an optimized production build of your application. 
You can enable more verbose build output with the <code class="language-plaintext highlighter-rouge">--debug</code> flag in next build.</p>

<p>The output displays information about each route:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜✗ npx next build --debug
info  - Loaded env from /Users/casianorodriguezleon/campus-virtual/2223/learning/openai-learning/openai-quickstart-node/.env
info  - Creating an optimized production build  
info  - Compiled successfully
info  - Collecting page data  
info  - Generating static pages (3/3)
info  - Finalizing page optimization  

Page                                       Size     First Load JS
┌ ○ /                                      998 B          73.8 kB
├   └ css/fc2c832f265f4111.css             522 B
├ ○ /404                                   193 B            73 kB
└ λ /api/generate                          0 B            72.8 kB
+ First Load JS shared by all              72.8 kB
  ├ chunks/framework-e70c6273bfe3f237.js   42 kB
  ├ chunks/main-f65e66e62fc5ca80.js        28.6 kB
  ├ chunks/pages/_app-02d0f4839caa4a8e.js  1.36 kB
  └ chunks/webpack-69bfa6990bb9e155.js     769 B

λ  (Server)  server-side renders at runtime (uses getInitialProps or getServerSideProps)
○  (Static)  automatically rendered as static HTML (uses no initial props)

Redirects

┌ source: /:path+/
├ destination: /:path+
└ permanent: true
</code></pre></div></div>

<p>This generates the site in the <code class="language-plaintext highlighter-rouge">.next</code> directory.</p>

<h2 id="production">Production</h2>

<p><code class="language-plaintext highlighter-rouge">next start</code> starts the application in <em>production</em> mode. 
The application should be compiled with <code class="language-plaintext highlighter-rouge">next build</code> before starting.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npx next start -p 4000

ready - started server on 0.0.0.0:4000, url: http://localhost:4000
info  - Loaded env from /Users/casianorodriguezleon/campus-virtual/2223/learning/openai-learning/openai-quickstart-node/.env
</code></pre></div></div>

<h2 id="exercise-deploy-at-netlify-with-the-ui">Exercise: Deploy at Netlify with the UI</h2>

<p>Netlify’s Next.js Runtime configures your site on Netlify to enable key Next.js functionality.</p>

<p>It automatically generates <strong><a href="https://sytws.netlify.app/temas/web/serverless.html">serverless functions</a></strong> that handle</p>

<ul>
  <li>server-side rendered (SSR) pages,</li>
  <li>incremental static regeneration (ISR),</li>
  <li>image optimization, and</li>
  <li>other Next.js features.</li>
</ul>

<p>See section <a href="https://docs.netlify.com/integrations/frameworks/next-js/overview/">Next.js on Netlify</a>
for more details.</p>

<h3 id="make-public-your-repo">Make public your repo</h3>

<p>Regarding prices and restrictions on deployment you can check the FAQ <a href="https://www.netlify.com/pricing/private-org-repo-faq/">Organization-owned private repository FAQ</a></p>

<h3 id="deploy-with-the-netlify-ui">Deploy with the Netlify UI</h3>

<p>In the Netlify UI, choose new deploy and import your GitHub repo to Netlify</p>

<p><img src="/assets/images/nextjs/netlify-deploy-1.png" alt="" /></p>

<p>Click on <strong>show advanced</strong>. Go to <strong>Environment Variables</strong> and add the secret:</p>

<p><img src="/assets/images/nextjs/netlify-add-variable.png" alt="netlify-add-variable" /></p>

<p>Finally, click on <strong>deploy site</strong> and after a while your site will be deployed and running:</p>

<p><img src="/assets/images/nextjs/netlify-running-cookies.png" alt="" /></p>

<h2 id="netlify-environment-variables-1">Netlify Environment Variables</h2>

<p>Environment variables are set and securely stored on Netlify and provided to the Next.JS server. This means we can avoid committing any sensitive values to our repository.</p>

<p>There are three ways to create site environment variables:</p>

<ul>
  <li>In the Netlify UI, create site variables under <strong>Site settings &gt; Environment variables</strong>.</li>
  <li>With the Netlify CLI, use <code class="language-plaintext highlighter-rouge">env:set</code> to create a site environment variable, and <code class="language-plaintext highlighter-rouge">env:import</code> to import from a <code class="language-plaintext highlighter-rouge">.env</code> file.</li>
  <li>With the Netlify API, use <code class="language-plaintext highlighter-rouge">createEnvVars</code> to create a new site environment variable.</li>
</ul>

<p>The Netlify UI reflects any changes made using the CLI (ntl) or the API and vice versa.</p>

<h2 id="exercise-deploy-with-the-netlify-cli">Exercise: Deploy with the Netlify CLI</h2>

<p>The Netlify CLI is a command line interface that allows you to manage your Netlify sites from the terminal.</p>

<h3 id="install-the-netlify-cli">Install the Netlify CLI</h3>

<p>You can install it with npm:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜  explorers-up-and-running-with-serverless-functions git:(main) npm install netlify-cli -g
added 1438 packages, and audited 1439 packages in 26s
➜  explorers-up-and-running-with-serverless-functions git:(main) npm ls -g netlify-cli
/Users/casianorodriguezleon/.nvm/versions/node/v16.0.0/lib
└── netlify-cli@12.2.8
➜  explorers-up-and-running-with-serverless-functions git:(main) ✗ ntl --version
netlify-cli/12.2.8 darwin-x64 node-v16.0.0
➜  explorers-up-and-running-with-serverless-functions git:(main) ✗ node --version
v16.0.0
</code></pre></div></div>

<h3 id="link-the-repo-to-netlify">Link the repo to Netlify</h3>

<p>The first step is to <strong>link</strong> the repo to Netlify. Here we are using the <code class="language-plaintext highlighter-rouge">--gitRemoteName</code> option to specify the remote name <code class="language-plaintext highlighter-rouge">sytws</code> of the repo.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜  nextjs-solution git:(main) ✗ ntl link --gitRemoteName sytws

netlify link will connect this folder to a site on Netlify

? How do you want to link this folder to a site? Use current git remote origin (https://github.com/ULL-MII-SYTWS/nextjs-solution)

Looking for sites connected to 'https://github.com/ULL-MII-SYTWS/nextjs-solution'...


Directory Linked

Admin url: https://app.netlify.com/sites/nextjs-oai
Site url:  https://nextjs-oai.netlify.app

You can now run other `netlify` cli commands in this directory
</code></pre></div></div>

<h3 id="check-the-status">Check the status</h3>

<p>Once we have linked the repo to Netlify, we can check the status:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜  nextjs-solution git:(main) ✗ ntl status
──────────────────────┐
 Current Netlify User │
──────────────────────┘
Name:   Casiano Rodriguez-Leon
Email:  crguezl@ull.edu.es
GitHub: crguezl
Teams:
  Casiano Rodriguez-Leon's team: Collaborator
────────────────────┐
 Netlify Site Info  │
────────────────────┘
Current site: nextjs-oai
Admin URL:    https://app.netlify.com/sites/nextjs-oai
Site URL:     https://nextjs-oai.netlify.app
Site Id:      blah-blah-blah-blah-blah
</code></pre></div></div>

<h3 id="listgetset-the-environment-variables">List/Get/Set the environment variables</h3>

<p>We can use <code class="language-plaintext highlighter-rouge">ntl env:&lt;subcommand&gt;</code> syntax to <code class="language-plaintext highlighter-rouge">list</code>, <code class="language-plaintext highlighter-rouge">set</code> or <code class="language-plaintext highlighter-rouge">get</code>  environment variables:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜  nextjs-solution git:(main) ✗ ntl env:list
1 environment variable for site nextjs-oai
.---------------------------------------------------------------------.
|                        Environment variables                        |
|---------------------------------------------------------------------|
|      Key       |                       Value                        |
|----------------|----------------------------------------------------|
| OPENAI_API_KEY | ************************************************** |
'---------------------------------------------------------------------'
</code></pre></div></div>

<h3 id="development-mode-with-the-netlify-cli">Development mode with the Netlify CLI</h3>

<p>We can see  the site locally using the <code class="language-plaintext highlighter-rouge">dev</code> command of <code class="language-plaintext highlighter-rouge">ntl</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> openai-quickstart-node git:(main) ✗ ntl dev
</code></pre></div></div>

<p>Since <code class="language-plaintext highlighter-rouge">ntl</code> knows about Next.js, it will choose a suitable default configuration, it will create a <code class="language-plaintext highlighter-rouge">.netlify</code>folder:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>✗ tree -I node_modules .netlify     
.netlify
├── edge-functions
│   ├── edge-shared
│   │   ├── next-utils.ts
│   │   ├── nextConfig.json
│   │   └── utils.ts
│   ├── manifest.json
│   └── next-dev
│       └── index.js
├── edge-functions-import-map.json
├── plugins
│   ├── package-lock.json
│   └── package.json
└── state.json
</code></pre></div></div>

<p>and it will start the Next.js server injecting the environment variables .</p>

<p>We can change the settings adding a <a href="https://docs.netlify.com/configure-builds/file-based-configuration/">netlify.toml</a> configuration file.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[plugins]]
package = "@netlify/plugin-nextjs"

[build]
command = "npm run build"
publish = ".next"
</code></pre></div></div>

<h3 id="deploying-with-the-netlify-cli">Deploying with the Netlify CLI</h3>

<p>Netlify deploys are <strong>atomic</strong>, and your site is never in an inconsistent state while you’re uploading a new deploy.</p>

<p>With File Transfer Protocol (FTP) or Amazon Simple Storage Service (S3) uploads, each file is pushed live one after the other, so you can  get into situations where a new HTML page is live before the supporting assets (images, scripts, CSS) have been uploaded. And if your connection cuts out in the middle of an upload, your site could get stuck in a broken state for a long time.</p>

<p>Here is an example of a deploy:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜  openai-quickstart-node git:(main) ✗ ntl deploy --prod
Deploy path: /Users/casianorodriguezleon/campus-virtual/2223/learning/openai-learning/openai-quickstart-node/.next
Deploying to main site URL...
✔ Finished hashing 
✔ CDN requesting 27 files
✔ Finished uploading 27 assets
✔ Deploy is live!

Logs:              https://app.netlify.com/sites/nextjs-oai/deploys/6395e63207648c16d41001b7
Unique Deploy URL: https://6395e63207648c16d41001b7--nextjs-oai.netlify.app
Website URL:       https://nextjs-oai.netlify.app
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">--prod</code> option deploys to production, the  <code class="language-plaintext highlighter-rouge">--open</code> flag  opens the site after deploy</p>

<h2 id="exercise-deploy-the-app-to-vercel">Exercise: Deploy the app to Vercel</h2>

<p>Follow the instructions at the tutorial <a href="https://nextjs.org/learn/basics/deploying-nextjs-app">Deploying Your Next.js App
</a></p>

<p>If you have trouble with this or other Next.js steps use <a href="https://github.com/vercel/next.js/discussions">GitHub Discussions: next.js</a></p>

<h3 id="deploying-with-the-vercel-cli">Deploying with the Vercel CLI</h3>

<p>You can also use the <a href="https://vercel.com/docs/cli">Vercel CLI</a> to interact with and configure your projects, enabling you to retrieve logs, manage certificates, replicate your deployment environment locally, manage Domain Name System (DNS) records, etc. It is a wrapper around the <a href="https://vercel.com/docs/rest-api">Vercel API</a>.</p>

<p>Here is an example of use:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜  nextjs-blog git:(main) vercel login
Vercel CLI 28.10.1
&gt; Log in to Vercel github
&gt; Success! GitHub authentication complete for crguezl@ull.edu.es
Congratulations! You are now logged in. In order to deploy something, run `vercel`.
💡  Connect your Git Repositories to deploy every branch push automatically (https://vercel.link/git).
➜  nextjs-blog git:(main) vercel ls
Vercel CLI 28.10.1
? Set up “~/campus-virtual/2223/learning/nextjs-learning/nextjs-tutorial/nextjs-blog”? [Y/n] y
? Which scope should contain your project? crguezl
? Found project “crguezl/nextjs-blog”. Link to it? [Y/n] y
🔗  Linked to crguezl/nextjs-blog (created .vercel and added it to .gitignore)
&gt; Deployments for nextjs-blog under crguezl [645ms]
&gt; To list deployments for a project, run `vercel ls [project]`.

  Age     Deployment                                           Status      Duration
  22m     https://nextjs-blog-sfbadq2kr-crguezl.vercel.app     ● Ready     38s
</code></pre></div></div>

<p>Watch the video <em>Vercel - Create a Next.js App and Deploy with Vercel CLI</em>:</p>

<!-- Courtesy of embedresponsively.com //-->

<div class="responsive-video-container">
    <iframe src="https://www.youtube-nocookie.com/embed/4DbNUJ-9_U4" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
  </div>

<h2 id="exercise-get-images-from-openai">Exercise: Get images from OpenAI</h2>

<p>Add routes to the app:</p>

<ul>
  <li>On the first route  <code class="language-plaintext highlighter-rouge">/pet</code>  leave the current service</li>
  <li>On the second route <code class="language-plaintext highlighter-rouge">/image</code>add functionality to get an image from OpenAI and display it in the page.</li>
  <li>Update the landing page and navigation links</li>
  <li>Add a 404 page</li>
  <li>Consider the opportunity to solve it using a dynamic route</li>
</ul>

<p>The youtube video <em>Build An AI Image Generator With OpenAI &amp; Node.js</em> can help:</p>

<!-- Courtesy of embedresponsively.com //-->

<div class="responsive-video-container">
    <iframe src="https://www.youtube-nocookie.com/embed/fU4o_BKaUZE" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
  </div>

<h2 id="rubrica">Rubrica</h2>

<ul>
  <li>Code of the lab is correct and works</li>
  <li>Site deployed at netlify and Vercel</li>
  <li>Images request added</li>
  <li>REST answers to exercises are correct</li>
  <li>Exercise Dynamic Routes reported</li>
  <li>Report is correct and complete</li>
  <li>Kanban Board Project reflects the rubric issues</li>
  <li>The .zip has been delivered on the campus</li>
</ul>

<h2 id="references-3">References</h2>

<ul>
  <li><a href="https://www.netlify.com/">Netlify</a></li>
  <li><a href="https://nextjs.org/">Next.js</a>
    <ul>
      <li><a href="https://nextjs.org/learn/foundations/about-nextjs">Next.js Foundations</a></li>
    </ul>
  </li>
  <li><a href="https://reactjs.org/">React</a></li>
  <li><a href="https://docs.netlify.com/cli/get-started/?_ga=2.210632407.351830897.1670331128-1485033729.1667990322#link-with-an-environment-variable">Netlify CLI</a></li>
  <li><a href="https://docs.netlify.com/integrations/frameworks/next-js/overview/#app">Next.js on Netlify</a></li>
  <li><a href="https://vercel.com/guides/deploying-nextjs-with-vercel">Deploying a Next.js app to Vercel</a>
    <ul>
      <li><a href="https://vercel.com/docs/concepts/projects/environment-variables?utm_source=next-site&amp;utm_medium=docs&amp;utm_campaign=next-website">Environment Variables</a></li>
    </ul>
  </li>
  <li>A solution deployed at netlify <a href="https://nextjs-oai.netlify.app/">https://nextjs-oai.netlify.app/</a>
    <ul>
      <li><a href="https://github.com/ULL-MII-SYTWS/nextjs-solution/">A repo with a solution</a></li>
    </ul>
  </li>
  <li>Here is YouTube video explaining a project similar to the one described in this lab: <a href="https://youtu.be/fU4o_BKaUZE">Build An AI Image Generator With OpenAI &amp; Node.js</a></li>
  <li>Repo <a href="https://github.com/ULL-MII-SYTWS/nextjs-dynamic-routes">ULL-MII-SYTWS/nextjs-dynamic-routes</a></li>
  <li><a href="https://github.com/vercel/next.js/tree/canary/examples/">NextJS official examples folderx</a></li>
</ul>


<!--
            <br/>
<hr/>
<h2>
    Prácticas Propuestas
</h2>
<ol reverse>

  
  <li> 
    <a href="/tema0-presentacion/practicas/pb-gh-campus-expert">GitHub Campus Expert</a> 
    <ul>
      <li>Repos en GH: <a href="https://github.com/orgs/ULL-ESIT-DMSI-2223/repositories?q=github-campus-expert&type=all&language=&sort=" target="_blank">github-campus-expert</a></li>
      <li><a href="/tema0-presentacion/practicas/pb-gh-campus-expert#rúbrica">Rúbrica</a> </li>
    </ul>
  </li>
  

  
  <li> 
    <a href="/tema1-introduccion/practicas/markdown">Learning Markdown</a> 
    <ul>
      <li>Repos en GH: <a href="https://github.com/orgs/ULL-ESIT-DMSI-2223/repositories?q=aprender-markdown&type=all&language=&sort=" target="_blank">aprender-markdown</a></li>
      <li><a href="/tema1-introduccion/practicas/markdown#rúbrica">Rúbrica</a> </li>
    </ul>
  </li>
  

  
  <li> 
    <a href="/tema1-introduccion/practicas/setup">Setting up Our Environment</a> 
    <ul>
      <li>Repos en GH: <a href="https://github.com/orgs/ULL-ESIT-DMSI-2223/repositories?q=setup&type=all&language=&sort=" target="_blank">setup</a></li>
      <li><a href="/tema1-introduccion/practicas/setup#rúbrica">Rúbrica</a> </li>
    </ul>
  </li>
  

  

  

  

  

</ol>



<br/>
<hr/>
<h2>
    Clases
</h2>

<ol reversed>
  
<li> <a href="/2023/09/17/leccion.html">Clase del Lunes 2023/09/17</a></li>
  
<li> <a href="/2023/09/11/leccion.html">Clase del Lunes 2023/09/11</a></li>
  
</ol>


<br/>
<hr/>
-->

</section>
</div>

    
</body>

</html>
